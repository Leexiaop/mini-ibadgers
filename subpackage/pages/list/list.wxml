<!--list.wxml-->
<view class="list">
	<t-search class="list-input" placeholder="请输入搜索的内容" bind:change="onInputChange" />
    <t-cell-group
		wx:if="{{list.length && !isLoading}}"
		wx:for="{{list}}"
		wx:key="index"
		wx:for-item="item"
		wx:for-index="index"
		title="{{undefined}}"
	>
		<t-cell
			hover
			arrow
			wx:for="{{item.children}}"
			wx:key="idx"
			wx:for-item="child"
			wx:for-index="idx"
			title="{{child.name || (child === 'index' ? '概要' : child)}}"
			bind:tap="onCellClick"
			data-cell="{{child}}"
		>
			<t-button
				theme="primary"
				size="small"
				slot="note"
				shape="round"
				catch:tap="onCodeCheck"
				data-cell="{{child}}"
				data-index="{{idx}}"
				wx:if="{{options.url === 'threejs_case'}}"
			>源码</t-button>
		</t-cell>
	</t-cell-group>
	<view class="group" wx:if="{{!list.length || isLoading}}">
		<t-skeleton wx:for="{{30}}" animation="flashed" class="group-content" rowCol="{{[1]}}" loading></t-skeleton>
		<t-loading theme="circular" size="40rpx" class="wrapper" />
	</view>
	<t-popup visible="{{show}}" prevent-scroll-through="{{true}}" placement="bottom">
		<view class="block">
			<view class="header">
				<view class="btn btn--cancel" aria-role="button" bind:tap="onClose">取消</view>
				<view class="title">{{title}}</view>
				<view class="btn btn--confirm" aria-role="button" bind:tap="onClose">确定</view>
			</view>
		</view>
		<t-divider />
		<view class="pop-tip">* 可点击代码区域复制粘贴到html文档中查看案例</view>
        <view class="pop-content" bind:tap="onContentClick">
			<towxml nodes="{{content}}"/>
		</view>
	</t-popup>
</view>
